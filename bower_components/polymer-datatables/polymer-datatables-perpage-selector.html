<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../core-collapse/core-collapse.html">
<link rel="import" href="../core-menu/core-menu.html">
<link rel="import" href="../paper-dropdown/paper-dropdown.html">
<link rel="import" href="../paper-item/paper-item.html">
<link rel="import" href="../paper-dropdown-menu/paper-dropdown-menu.html">

<polymer-element name="polymer-datatables-perpage-selector" attributes="perPage perPageCount currentPage pageTotal">
  <template>
    <div id="perPageCount"></div>

      <paper-dropdown-menu label="Rows Per Page:" id="filter">
        <paper-dropdown class="dropdown">
          <core-menu valueattr="label" class="menu" selected="{{ selected}}">
            <template repeat="{{ count in perPageCount }}">
              <paper-item label="{{ count }}">{{ count }}</paper-item>
            </template>
          </core-menu>
        </paper-dropdown>
      </paper-dropdown-menu>
    </div>
  </template>
  <script>
  Polymer({
    publish: {
      perPage: 25,
      perPageCount: [10,25,50,100],
      pageTotal: 1,
    },
    selectedChanged: function(oldValue,newValue) {
      if( newValue ) {
        this.perPage = Number( newValue );
        if( this.currentPage > this.pageTotal ) this.currentPage = this.pageTotal;
      }
    },
  });
  </script>
</polymer-element>
